---
title: 用a标签在浏览器直接下载图片
tags: 
notebook: 前端
---
# 用a标签在浏览器直接下载图片
## 概述
一般来说，在浏览器上要直接下载东西，比如excel表格。
就是直接弹出个对话框，然后就下载对应的资源，就是用a标签来实现的。
举个例子：
`<a href="文件.xls"></a>`
但是**对于图片格式（比如`.jpg`,`.gif`）的文件，a标签就会变成直接打开图片**，而不是下载图片了。

## 1. 下载同源的图片 `download属性`
同源图片，就是同一个域名，同一个http的图片，可以在网站内使用相对路径访问到的。  
图片是存在网站的图片目录下的。
### download属性原理：
没有download属性的时候，a标签的默认行为是链接跳转进行预览，而对于无法预览的文件，就可以达到下载的效果

### 解决方法
前提条件：文件是同源的，
在a标签上增加download属性，才能触发点击下载的效果，
注意：**若不同源的话则变成在当前页面打开该图片了**。

举个例子：  
`<a href="图片.jpg" download=""></a>`

## 2. 下载非同源图片
非同源图片，最根本的区别的就是域名不一样，也就是图片和网站不是一个域名。  
图片存在专属的图片服务器中。 
### 解决方法
有一种思路是将图片转为base64再赋值给a标签，这样点击后应该就能够下载了
