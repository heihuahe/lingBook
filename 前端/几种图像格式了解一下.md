---
title: 几种图片格式了解一下
tags: 图片
notebook: 前端
---
# 几种图片格式了解一下

### 什么是合适的图片？
很多网站，其实影响加载速度最大的还是图片，因为网站上会有相当大的图片资源，所以选择恰当的图片格式对网站加载速度影响重大。
所以常见的优化图片资源有这么几种策略：
- 懒加载
- 图片优化（这就是我们要讲的）
- ....

那么，哪种图片在什么场景下才是最恰当的呢？
### 矢量图和位图
首先，先来了解下图片的两种形式。
- **位图（点阵图）**
  - 由一个个**像素点**组成
  - 图片放大**会失真**
- **矢量图**
  - 图片上记录了元素形状及颜色的算法
  - 图片放大**不会失真**。
> **什么叫失真？**
> 当图片放大到一定程度会出现马赛克的现象就是失真，像素越高越不容易失真。
> 理论上来说：就是因为图片在转存的过程中图像信息丢失而产生的图像质量下降的现象。

![](https://raw.githubusercontent.com/heihuahe/myGallery/master/noteImage/20190527152347.png)
#### 位图
位图，又称点阵图或栅格图，由像素点组成。  
位图又分为8、16、24和32位。
比如：**8位图**，就是指图片有2<sup>8</sup>（即256）种颜色。  
一般来说，从人眼的感觉来说，**16位图**（2<sup>16</sup>）基本能满足需求了。  
**24位图**，又称作“真彩色”，这几乎是人眼可以分辨颜色的极限了。  
**32位图**，其实也是2<sup>24</sup>种颜色，它在24位图的基础上增加了2<sup>8</sup>颜色的灰度，也就是8位的透明度。  
一般肉眼很难分辨24位图和32位图的区别，所以通常来说会选择将图片保存为24位，不仅图片质量好，而且图片也不大。  
> 位图的文件大小和图形面积和文件色彩丰富度成正比。图片体积越大，图片色彩越丰富，图片越大。
##### 优缺点
优点：利于显示色彩层次丰富的写实图像；
缺点：放大/缩小图片，都会使图片失真。因为其本质是增加/减少图片中的像素数量。  
##### 位图的绘图工具
PhotoShop（简称：PS）  
常见的几种格式：
- jpg
- png
- webp
- gif（现在常用于动画）
> 虽然以上都是位图，但是不同格式的图像在记录这些数据时的方式却不一样，这就涉及到**有损压缩和无损压缩**的区别。
##### 使用建议
**处理色调复杂的图像时，比如照片/图画，建议使用JPG格式；制作logo和简单的线条构图时，建议使用png格式**
#### 矢量图
矢量图是以一种数学描述的方式来记录图像内容的图像格式，主要是通过点、线、面。边框等信息基于计算的方式来显示图像的。
> 图片体积大小与图片中元素的个数和每个元素的复杂程度成正比，而与图片面积和色彩的丰富程度无关。
##### 优缺点
优点： 不管怎么缩放，都不会失真；
缺点： 难以表现色彩层次丰富的图像。
缺点： 很难表现自然度高的写实图像
##### 使用建议
**一般在制作logo或图标时，才会使用矢量图。**
其实，矢量图**主要用于印刷行业**，因为矢量图放大不会失真，印刷时就不会出现毛边/模糊的情况。

常见的几种格式：
- svg
- ai
每次显示图片都是重新执行了图片上的算法，因为每次都是重绘，所以即使画面缩放了，也**不会失真**。
> 注意： 我们在web页面上使用的图像基本都是位图，即使有些是矢量图形，也是指通过矢量工具进行绘制然后转成位图格式在web上使用的.(区别于像素绘制的图形)
##### 绘图工具
- Adobe公司的illustrator（简称：AI）
- Corel的CorelDRAW


### 矢量图与位图的格式互换
矢量图可以很轻松的转换为位图，但是位图转换成矢量图就需要复杂而庞大的数据处理，而且生成的矢量图的质量绝对不能和原来的图形比拟。
### 有损压缩与无损压缩
#### 有损压缩（你看到的不一定是真实的）
有损压缩就是在存储图像的时候并不完全真实的记录图像上每个像素点的数据信息，他会根据人眼观察现实世界的特性（人眼对光线的敏感度比对颜色的敏感度要高，生物实验证明当颜色缺失时人脑会利用与附近最接近的颜色来自动填补缺失的颜色）对图像数据进行处理，去掉那些图像上会被人忽略的细节，然后**使用附近的颜色通过渐变或其他形式进行填充**。这样既能大大降低图像信息的数据量，又不会影响图像的还原效果。（具体看图）
![](https://raw.githubusercontent.com/heihuahe/myGallery/master/noteImage/20190527171432.png)
##### 比如：jpg
jpg是我们最常见的采用有损压缩对图像信息进行处理的图片格式。
处理原理：
在存储图像时会把图像分解成8*8像素的栅格，然后对每个栅格的数据进行压缩处理，当我们放大一副图像的时候，就会发现这些8*8像素栅格中的很多细节都被去除了，而通过一些特殊的算法用附近的颜色进行填充。**这就是为什么用JPG存储图像时有时会产生块状模糊的原因**

#### 无损压缩（最精确的拼图）
无损压缩就是真实地记录图像上每个像素点的数据信息，但是为了压缩图像文件的大小会采取一些特殊的算法。
##### 压缩原理
先判断图像上那些区域的颜色是相同的，哪些是不同的，然后把这些相同的数据信息进行压缩记录。
![](https://raw.githubusercontent.com/heihuahe/myGallery/master/noteImage/20190527173120.png)
##### 比如：PNG
PNG就是一种采用无损压缩的图片格式。无损压缩先判断图像上哪些地方是相同的哪些地方是不同，然后对图像上出现的颜色进行索引，这些颜色就是*索引色**
##### 既然是无损压缩了，为什么还会出现失真的情况呢？
因为无损压缩只是指这个压缩方式可以尽可能的真实的还原图像，但是根据其原理，它是通过索引图像上的相同区域的颜色进行压缩和还原的，这就意味着**只有在图像上出现的颜色数量小于我们可以保存的颜色数量时，我们才能真实的记录和还原图像**，否则就会丢失一些图像信息。  
而有损压缩，不管图像上的颜色多少，都会损失部分图像信息。
- PNG格式最多可以保持成48位图
### 图片格式
- jpg
- png
- webp
- gif
- svg

#### JPG
JEPG和JPG其实是一样的。
可以很好地处理大面积色调的图片。比较自然的图片。
jpg是使用有损压缩的，在存档的时候，图片的一些内容会遭到永久性的破坏，压缩比例越高，破坏越大。
##### 两种保存方式
jpg有两种保存方式：
- Baseline JEPG（标准型）
- Progressive JEPG（渐进式）
这两种的区别就是二者显示的方式不同。
###### Baseline JEPG
#### PNG
png是专门为web创造的图像，通常在制作logo或一些图标时，都是用png。
与JPG的区别就是，**png支持透明信息**。就是图像可以浮现在页面上，周围空白的部分都是透明色，在网页上看不见。
特点：
- 图片体积小
- 无损压缩
- 压缩比率很高
- 可渐变透明
##### 优缺点
优点：支持**逐次逼近显示（progressive display）**：传输图像文件的同时，可以先把整个轮廓显示出来，然后逐步显示图像的细节。即先显示低分辨率显示图像，从模糊到清晰，然后逐步提高它的分辨率。这是一个很好的用户体验。
![](https://raw.githubusercontent.com/heihuahe/myGallery/master/noteImage/20190527161301.png)

#### GIF 
只支持256色以内的图像，也就是8位图。所以gif的图片效果很差。一般来说都是用来制作动画的。
但是如果图片只有很单调的色彩，没有渐变色，用GIF就最适合了！
特点：
- 体积小
- 极好的压缩效果
- 支持动画
- 支持透明效果（没有png的渐变透明强大）
### 参考资料
- [图片格式(绿叶学习网——helicopter)](http://www.lvyestudy.com/les_hj/hj_7.3.aspx)
- [【转】前端切图该保存为什么格式？(博客园——吕大豹)](https://www.cnblogs.com/lvdabao/articles/3042849.html)